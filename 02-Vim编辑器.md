# Vim编辑器

# 1、vim编辑器的使用

### 进入编辑模式

```bash
i       				# 在光标所在位置，进入编辑模式
I        				# 在光标所在行，行首，进入编辑模式
a        				# 在光标移动到下一个字符，进入编辑模式
A        				# 光标跳到行尾后，进入编辑模式
o        				# 光标所在行的下行，新起一行，进入编辑模式
O        				# 光标所在行的上行，新起一行，进入编辑模式
C        				# 将光标到行尾的字符剪切， 进入编辑模式
s						# 删除光标后1个字符，进入编辑模式
S						# 删除光标所在行内容，进入编辑模式

esc						# 退出编辑模式
```

### 保存/退出

```bash
:q						# 退出
:w						# 保存
:q!            			# 强制退出
:w 文件名			  	  # 文件另存为
:wq!              		# 强制保存并退出
ZZ               		# 保存并退出
```

### 撤销

```bash
u       			  	# 撤销
ctrl + r              	# 恢复
```

### 查找内容

```bash
/关键字				  # 搜索内容（默认向下搜索（n）,向上搜索(N)）
/关键字\c                # 搜索内容，并忽略大小写
?关键字               	  # 搜索内容（默认向上搜索（n））
```

### 行号

```bash
:set nu              	# 显示行号
:set nonu            	# 取消显示行号
:set list            	# 显示控制字符（tab用^I表示，回车用$表示）
```

### 替换

```bash
:s/old/new              # 替换光标所在行中的第1个old
:s/old/new/g			# 替换光标所在行中所有的old
:%s/old/new/g	        # 替换文件内所有的old

:范围s#原内容#新内容#g
:2,4s#原内容#新内容#g     # 替换2-4行
:2,$s#原内容#新内容#g     # 替换2-结尾行

:1,10s/^/#/g			# 注释1-10行
:1,10s/^#//g			# 取消1-10行注释
```

### 快速跳转光标

```bash
^ | 0       			# 跳转到 光标所在行首
$						# 跳转到 光标所在行尾
gg | 1G					# 跳转到 首行行首
G						# 跳转到 末行行首
3gg						# 跳转到 第3行行首
:3						# 跳转到 第3行行首
```

### 删除、剪切

```bash
dd               		# 删除光标所在行
3dd              		# 删除光标后3行
dG               		# 删除光标后的所有内容
d^               		# 删除光标处，到行首的内容
d$ | D           		# 删除光标处，到行尾的内容
x						# 删除光标处，所在字符
X						# 删除光标处前一个字符
```

### 复制

```bash
yy          			# 复制光标所在行
3yy				 		# 复制光标行到后3行
:3,5copy9		 		# 把3-5行复制到9行后面
```

### 粘贴

```bash
小p    					# 在光标所在行的下面，粘贴
大P 						# 在光标所在行的上面，粘贴
3p		   				 # 粘贴3次
```

### 移动

```bash
:3,5move9				# 把3-5行，移动到第9行后面
```

### 导入文件

```bash
:r !命令				   # 把命令的运行结果导入光标所在位置
:r 文件名				  # 读取文件，并写入到光标所在位置后
```

### 块视图模式

```bash
ctrl + v				# 块视图模式

## 全部注释
shift + g
指定行 ngg
所有行 shift +g
Shift + i
输入#
```

### 行视图模式

```bash
shift + v				# 行视图模式，批量操作行	

上下键 选择范围
d 删除、剪切
y 复制
p 粘贴
按 Shift + I	进入编辑
```



### 同时编辑多个文件

```bash
# 窗口按 ctrl + w
vim -o 文件1 文件2
vim -O 文件1 文件2	
```



# 2、文件内容比对：vimdiff

```bash
vimdiff 文件1 文件2
```



# 3、【扩展】vim编辑器模板配置文件

- **个人配置文件：~/.vimrc**
- **全局配置文件：/etc/vimrc**

```bash
# 修改vim编辑器模板
vim /etc/vimrc

set ts=2
set fenc=utf-8
set fencs=utf-8,usc-bom,euc-jp,gb18030,gbk,gb2312,cp936
set number
set autoindent
set smartindent
set tabstop=4
set shiftwidth=4
set ruler
set incsearch
set showmatch
set matchtime=10
set ignorecase
set cursorline
set t_Co=256
```

